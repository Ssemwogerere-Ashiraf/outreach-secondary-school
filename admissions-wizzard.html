<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admissions Wizard - Outreach SS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .step { display: none; }
    .step.active { display: block; }
    .progress-step { width: 33.33%; }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="bg-dark shadow-sm" style="background-color: rgb(244, 197, 6);">
    <a style="color: rgb(255, 200, 0); font-family: Verdana; font-size: larger;">
      <img src="logo.png" alt="Outreach Logo" class="logo" height="100" width="100">
      <strong><b style="color:red; font-size: 40px;">O</b>UTREACH &nbsp;&nbsp;&nbsp;<b style="color:red; font-size: 40px;">S</b>ECONDARY &nbsp;&nbsp;&nbsp;<b style="color:red; font-size: 40px;">S</b>CHOOL</strong>
    </a>
  

   <!-- Navbar -->
  <nav class="navbar navbar-expand-md navbar-light bg-light">
    
    <div class="container">
      <!-- <a class="navbar-brand" href="index.html"> <strong><b style="font-weight: bolder; font-size: xx-large; color: red;">O</b>UTREACH <b  style="font-weight: bolder; font-size: xx-large; color: red;">S</b>ECONDARY <b  style="font-weight: bolder; font-size: xx-large; color: red;">S</b>CHOOL</strong></a> -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="mainNavbar">
        <ul class="navbar-nav ms-auto" style="color: #fcb000;">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link active" href="academics.html">Academics</a></li>
          <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
          <li class="nav-item"><a class="nav-link" href="rules.html">Rules</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>
</header>

  <!-- Page Title -->
  <section class="text-dark text-center py-5">
    <div class="container">
      <h2 class="display-5" style="color: rgb(255, 64, 0);"><b>Admission Form</b></h2>
      <p class="lead" style="color: blueviolet;"><b>Apply to Outreach SS in three easy steps.</b></p>
    </div>
  </section>

  <!-- Progress Bar -->
  <div class="container">
    <div class="progress mb-4">
      <div id="progressBar" class="progress-bar progress-step bg-success" role="progressbar" style="width: 33%"></div>
    </div>
  </div>

  <!-- Wizard Form -->
  <main class="container-sm pb-5 px-3 text-center" style="width: 70%; background-color: #fef8f8; border: 1px solid #fcb000; border-radius: 2%;">
    <form id="wizardForm" action="https://formspree.io/f/mzzybkeo" method="POST" enctype="multipart/form-data">

      <!-- Hidden Formspree Controls -->
      <input type="hidden" name="_subject" value="New Admission Application - Outreach SS">
      <input type="hidden" name="_replyto" value="ssemwogerere.ashiraf@stud.umu.ac.ug">
      <input type="hidden" name="_autoresponse" value="Thank you for applying to Outreach Secondary School. We have received your application and will contact you soon.">
      <input type="hidden" name="_redirect" value="thank-you.html">

      <!-- Step 1 -->
      <div class="step active">
        <h4>Step 1: Personal Information</h4>
        <div class="mb-3">
          <label class="form-label">Full Name</label>
          <input type="text" class="form-control" name="fullName" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Date of Birth</label>
          <input type="date" class="form-control" name="dob" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Email Address</label>
          <input type="email" class="form-control" name="email" required>
        </div>
        <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
      </div>

<!-- Step 2 -->
<div class="step">
  <h4>Step 2: Academic Background</h4>
  <div class="mb-3">
    <label class="form-label">Last School Attended</label>
    <input type="text" class="form-control" name="lastSchool" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Exam Type</label>
    <select class="form-select" name="examType" required>
      <option value="">Select</option>
      <option value="PLE">PLE</option>
      <option value="UCE">UCE</option>
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Exam Index Number / Grades</label>
    <textarea class="form-control" name="examDetails" rows="3" placeholder="Enter your exam index number and grades here" required></textarea>
  </div>
  <button type="button" class="btn btn-secondary me-2" onclick="prevStep()">Back</button>
  <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
</div>

      <!-- Step 3 -->
      <div class="step">
        <h4>Step 3: Parent/Guardian Details</h4>
        <div class="mb-3">
          <label class="form-label">Guardian Name</label>
          <input type="text" class="form-control" name="guardianName" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Phone Number</label>
          <input type="tel" class="form-control" name="guardianPhone" required>
        </div>
        <button type="button" class="btn btn-secondary me-2" onclick="prevStep()">Back</button>
        <button type="submit" class="btn btn-success">Submit Application</button>
      </div>
    </form>

    <!-- Confirmation -->
    <div id="confirmation" class="alert alert-success mt-4 d-none">
      âœ… Thank you! Your application has been submitted successfully.
    </div>
  </main>

  <!-- Scripts -->
  <script>
    let currentStep = 0;
    const steps = document.querySelectorAll(".step");
    const progressBar = document.getElementById("progressBar");

    function showStep(index) {
      steps.forEach((step, i) => step.classList.toggle("active", i === index));
      progressBar.style.width = ((index + 1) / steps.length * 100) + "%";
    }

    function validateStep(index) {
      const inputs = steps[index].querySelectorAll("input, select");
      for (let input of inputs) {
        if (!input.checkValidity()) {
          input.classList.add("is-invalid");
          input.reportValidity();
          return false;
        } else {
          input.classList.remove("is-invalid");
        }
      }
      return true;
    }

    function nextStep() {
      if (validateStep(currentStep)) {
        currentStep++;
        showStep(currentStep);
      }
    }

    function prevStep() {
      if (currentStep > 0) {
        currentStep--;
        showStep(currentStep);
      }
    }

document.getElementById("wizardForm").addEventListener("submit", function(e) {
  e.preventDefault();
  if (!validateStep(currentStep)) return;

  const confirmSubmit = confirm("Is the information you've provided clear and relevant?");
  if (!confirmSubmit) return;

  const formData = new FormData(this);

  fetch(this.action, {
    method: 'POST',
    body: formData,
    headers: { 'Accept': 'application/json' }
  }).then(response => {
    if (response.ok) {
      // Redirect manually after success
      window.location.href = "thank-you.html";
    } else {
      alert("There was a problem submitting your application.");
    }
  });
});

  </script>
  <br>
    <!-- Footer -->
  <footer class="bg-sm-light text-center py-3 small text-muted">
      <div class="container">
        <p><b>Contact Us!!</b></p>
    <p class="mb-1">ðŸ“ž Headteacher: Mr. Ssemakula David - +256 701 234567</p>
    <p class="mb-1">ðŸ“ž Deputy Headteacher: Ms. Namukasa Grace - +256 772 345678</p>
    <p class="mb-1">ðŸ“ž Director of Studies: Mr. Kato Emmanuel - +256 784 456789</p>
     <br>
    &copy; 2025 Outreach Secondary School. All rights reserved.
    <p>Email: info@outreachschool.org | Tel: +256 701 422 100</p>
    <p>Location: Baggala, Mpigi District, Uganda</p>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
